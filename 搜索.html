<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能搜索</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36BFFA',
                        neutral: '#F5F7FA',
                        dark: '#1D2129',
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .search-shadow {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            }
            .result-hover {
                transition: all 0.3s ease;
            }
            .result-hover:hover {
                transform: translateY(-2px);
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-50 min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-search text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-dark">智能搜索</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="text-gray-600 hover:text-primary transition-colors">首页</a>
                <a href="#" class="text-gray-600 hover:text-primary transition-colors">历史</a>
                <a href="#" class="text-gray-600 hover:text-primary transition-colors">帮助</a>
            </div>
            <button class="md:hidden text-gray-600">
                <i class="fa fa-bars text-xl"></i>
            </button>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="flex-grow container mx-auto px-4 py-8 md:py-16">
        <!-- 搜索区域 -->
        <section class="max-w-3xl mx-auto mb-12">
            <div class="text-center mb-8">
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-4">搜索你想了解的信息</h2>
                <p class="text-gray-500">输入关键词，快速找到相关内容</p>
            </div>
            
            <!-- 搜索框 -->
            <div class="relative">
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="请输入搜索关键词..." 
                    class="w-full py-4 px-5 pl-12 rounded-xl search-shadow border border-gray-100 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"
                >
                <i class="fa fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <button id="search-button" class="absolute right-2 top-1/2 -translate-y-1/2 bg-primary hover:bg-primary/90 text-white px-5 py-2 rounded-lg transition-all">
                    搜索
                </button>
                <button id="clear-button" class="absolute right-24 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 hidden">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <!-- 热门搜索标签 -->
            <div class="mt-6 flex flex-wrap gap-2">
                <span class="text-gray-500 text-sm">热门搜索:</span>
                <a href="#" class="text-sm bg-neutral hover:bg-primary/10 text-gray-600 px-3 py-1 rounded-full transition-colors">技术</a>
                <a href="#" class="text-sm bg-neutral hover:bg-primary/10 text-gray-600 px-3 py-1 rounded-full transition-colors">设计</a>
                <a href="#" class="text-sm bg-neutral hover:bg-primary/10 text-gray-600 px-3 py-1 rounded-full transition-colors">人工智能</a>
                <a href="#" class="text-sm bg-neutral hover:bg-primary/10 text-gray-600 px-3 py-1 rounded-full transition-colors">健康</a>
                <a href="#" class="text-sm bg-neutral hover:bg-primary/10 text-gray-600 px-3 py-1 rounded-full transition-colors">旅行</a>
            </div>
        </section>
        
        <!-- 搜索结果区域 -->
        <section id="results-section" class="max-w-4xl mx-auto hidden">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-gray-700" id="results-count">找到约 <span>0</span> 条结果</h3>
                <div class="text-sm text-gray-500">
                    搜索用时 <span id="search-time">0.00</span> 秒
                </div>
            </div>
            
            <!-- 搜索结果列表 -->
            <div id="results-container" class="space-y-6">
                <!-- 结果将通过JavaScript动态插入 -->
            </div>
            
            <!-- 加载更多按钮 -->
            <div class="text-center mt-10">
                <button id="load-more" class="px-6 py-3 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors hidden">
                    加载更多 <i class="fa fa-angle-down ml-1"></i>
                </button>
            </div>
        </section>
        
        <!-- 无结果状态 -->
        <section id="no-results" class="max-w-2xl mx-auto text-center hidden py-16">
            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-6">
                <i class="fa fa-search text-2xl text-gray-400"></i>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">未找到相关结果</h3>
            <p class="text-gray-500 mb-6">请尝试使用其他关键词或检查拼写</p>
            <button id="try-again" class="px-5 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                重新搜索
            </button>
        </section>
        
        <!-- 初始状态提示 -->
        <section id="initial-state" class="max-w-2xl mx-auto text-center py-16">
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/10 mb-6">
                <i class="fa fa-lightbulb-o text-3xl text-primary"></i>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mb-3">开始你的搜索</h3>
            <p class="text-gray-500">本软件用于汽车快充维修智能系统需配合对应快充设备所获取数据。仅供参考。</p>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white border-t border-gray-200 py-6">
        <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
            <p></p>
        </div>
    </footer>

    <script>
        // 存储的示例数据
        const information = [
            {
                id: 1,
                title: "人工智能在医疗领域的应用",
                content: "人工智能技术正逐渐改变医疗行业的面貌，从疾病诊断到药物研发，AI都发挥着重要作用...",
                keywords: ["人工智能", "医疗", "应用", "AI", "疾病诊断", "药物研发"],
                date: "2023-05-12",
                category: "技术"
            },
            {
                id: 2,
                title: "响应式网页设计最佳实践",
                content: "响应式设计确保网站在各种设备上都能提供良好的用户体验，关键在于灵活的网格系统和媒体查询...",
                keywords: ["响应式设计", "网页设计", "最佳实践", "网格系统", "媒体查询"],
                date: "2023-04-28",
                category: "设计"
            },
            {
                id: 3,
                title: "健康饮食的七个基本原则",
                content: "健康饮食不仅能维持体重，还能预防多种慢性疾病。本文介绍七个简单易行的健康饮食原则...",
                keywords: ["健康", "饮食", "原则", "营养", "慢性病预防"],
                date: "2023-06-05",
                category: "健康"
            },
            {
                id: 4,
                title: "深度学习与机器学习的区别",
                content: "虽然深度学习是机器学习的一个分支，但两者在算法复杂度、数据需求和应用场景上有显著差异...",
                keywords: ["深度学习", "机器学习", "区别", "算法", "人工智能"],
                date: "2023-03-19",
                category: "技术"
            },
            {
                id: 5,
                title: "十大必去的欧洲旅行目的地",
                content: "欧洲拥有丰富的历史文化和自然景观，本文推荐十个值得一游的欧洲城市，从浪漫的巴黎到历史悠久的罗马...",
                keywords: ["旅行", "欧洲", "目的地", "巴黎", "罗马", "旅游"],
                date: "2023-05-27",
                category: "旅行"
            },
            {
                id: 6,
                title: "UI设计中的色彩心理学",
                content: "色彩在UI设计中不仅影响视觉效果，还能唤起特定的情感和反应。了解色彩心理学有助于创建更有效的界面...",
                keywords: ["UI设计", "色彩心理学", "设计", "用户界面", "视觉效果"],
                date: "2023-04-10",
                category: "设计"
            },
            {
                id: 7,
                title: "每天30分钟运动的健康益处",
                content: "即使是短暂的日常运动也能带来显著的健康益处，包括改善心血管健康、增强免疫系统和提升心理健康...",
                keywords: ["运动", "健康", "锻炼", "心血管", "免疫系统"],
                date: "2023-06-18",
                category: "健康"
            },
            {
                id: 8,
                title: "前端开发的未来趋势",
                content: "随着Web技术的不断发展，前端开发正朝着更高效、更强大的方向演进。本文探讨几个值得关注的前沿趋势...",
                keywords: ["前端开发", "技术", "趋势", "Web技术", "JavaScript"],
                date: "2023-05-02",
                category: "技术"
            }
        ];

        // DOM元素
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const clearButton = document.getElementById('clear-button');
        const resultsSection = document.getElementById('results-section');
        const resultsContainer = document.getElementById('results-container');
        const resultsCount = document.getElementById('results-count').querySelector('span');
        const searchTimeDisplay = document.getElementById('search-time');
        const noResults = document.getElementById('no-results');
        const initialState = document.getElementById('initial-state');
        const loadMoreButton = document.getElementById('load-more');
        const tryAgainButton = document.getElementById('try-again');

        // 当前显示的结果索引
        let currentResultIndex = 0;
        // 每次加载的结果数量
        const RESULTS_PER_PAGE = 3;
        // 搜索结果存储
        let searchResults = [];

        // 搜索功能
        function performSearch(query) {
            if (!query.trim()) {
                showInitialState();
                return;
            }

            // 记录搜索开始时间
            const startTime = performance.now();
            
            // 转换为小写以实现不区分大小写的搜索
            const lowerQuery = query.toLowerCase();
            
            // 搜索逻辑：匹配标题、内容或关键词
            searchResults = information.filter(item => {
                const matchesTitle = item.title.toLowerCase().includes(lowerQuery);
                const matchesContent = item.content.toLowerCase().includes(lowerQuery);
                const matchesKeyword = item.keywords.some(keyword => 
                    keyword.toLowerCase().includes(lowerQuery)
                );
                return matchesTitle || matchesContent || matchesKeyword;
            });
            
            // 计算搜索用时
            const endTime = performance.now();
            const searchTime = ((endTime - startTime) / 1000).toFixed(2);
            searchTimeDisplay.textContent = searchTime;
            
            // 更新结果计数
            resultsCount.textContent = searchResults.length;
            
            // 重置当前结果索引
            currentResultIndex = 0;
            
            // 显示结果
            displayResults();
        }

        // 显示搜索结果
        function displayResults() {
            if (searchResults.length === 0) {
                showNoResults();
                return;
            }

            // 显示结果区域
            resultsSection.classList.remove('hidden');
            noResults.classList.add('hidden');
            initialState.classList.add('hidden');

            // 计算要显示的结果范围
            const endIndex = Math.min(currentResultIndex + RESULTS_PER_PAGE, searchResults.length);
            const resultsToShow = searchResults.slice(currentResultIndex, endIndex);
            
            // 渲染结果
            resultsToShow.forEach(result => {
                const resultElement = createResultElement(result);
                resultsContainer.appendChild(resultElement);
            });
            
            // 更新当前索引
            currentResultIndex = endIndex;
            
            // 控制"加载更多"按钮显示
            if (currentResultIndex < searchResults.length) {
                loadMoreButton.classList.remove('hidden');
            } else {
                loadMoreButton.classList.add('hidden');
            }
        }

        // 创建单个结果元素
        function createResultElement(result) {
            const div = document.createElement('div');
            div.className = 'bg-white rounded-xl p-6 shadow-sm border border-gray-100 result-hover';
            
            // 生成类别标签样式
            const categoryClass = getCategoryClass(result.category);
            
            div.innerHTML = `
                <div class="flex justify-between items-start mb-3">
                    <span class="text-xs px-2 py-1 rounded-full ${categoryClass}">${result.category}</span>
                    <span class="text-xs text-gray-400">${result.date}</span>
                </div>
                <h3 class="text-lg font-semibold text-dark mb-2 hover:text-primary transition-colors">
                    <a href="#">${highlightText(result.title, searchInput.value)}</a>
                </h3>
                <p class="text-gray-600 mb-4">${highlightText(result.content, searchInput.value)}</p>
                <div class="flex flex-wrap gap-2">
                    ${result.keywords.slice(0, 3).map(keyword => `
                        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">${keyword}</span>
                    `).join('')}
                </div>
            `;
            
            return div;
        }

        // 根据类别获取样式类
        function getCategoryClass(category) {
            const classes = {
                '技术': 'bg-blue-100 text-blue-700',
                '设计': 'bg-purple-100 text-purple-700',
                '健康': 'bg-green-100 text-green-700',
                '旅行': 'bg-orange-100 text-orange-700'
            };
            return classes[category] || 'bg-gray-100 text-gray-700';
        }

        // 高亮显示匹配的文本
        function highlightText(text, query) {
            if (!query.trim()) return text;
            
            const lowerQuery = query.toLowerCase();
            const regex = new RegExp(`(${escapeRegExp(query)})`, 'gi');
            return text.replace(regex, '<span class="bg-yellow-200">$1</span>');
        }

        // 转义正则表达式特殊字符
        function escapeRegExp(str) {
            return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        // 显示初始状态
        function showInitialState() {
            resultsSection.classList.add('hidden');
            noResults.classList.add('hidden');
            initialState.classList.remove('hidden');
            resultsContainer.innerHTML = '';
        }

        // 显示无结果状态
        function showNoResults() {
            resultsSection.classList.remove('hidden');
            noResults.classList.remove('hidden');
            initialState.classList.add('hidden');
            resultsContainer.innerHTML = '';
            loadMoreButton.classList.add('hidden');
        }

        // 事件监听器
        searchButton.addEventListener('click', () => {
            // 清空之前的结果
            resultsContainer.innerHTML = '';
            performSearch(searchInput.value);
        });

        // 回车搜索
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                resultsContainer.innerHTML = '';
                performSearch(searchInput.value);
            }
        });

        // 清除搜索框
        clearButton.addEventListener('click', () => {
            searchInput.value = '';
            clearButton.classList.add('hidden');
            resultsContainer.innerHTML = '';
            showInitialState();
        });

        // 输入时显示清除按钮
        searchInput.addEventListener('input', () => {
            if (searchInput.value.trim()) {
                clearButton.classList.remove('hidden');
            } else {
                clearButton.classList.add('hidden');
                resultsContainer.innerHTML = '';
                showInitialState();
            }
        });

        // 加载更多结果
        loadMoreButton.addEventListener('click', displayResults);

        // 重新搜索
        tryAgainButton.addEventListener('click', () => {
            searchInput.focus();
            showInitialState();
        });

        // 点击热门标签进行搜索
        document.querySelectorAll('.mt-6 a').forEach(tag => {
            tag.addEventListener('click', (e) => {
                e.preventDefault();
                const tagText = tag.textContent;
                searchInput.value = tagText;
                clearButton.classList.remove('hidden');
                resultsContainer.innerHTML = '';
                performSearch(tagText);
            });
        });
    </script>
</body>
</html>
